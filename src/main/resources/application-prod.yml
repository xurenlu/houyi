spring:
  datasource:
    hikari:
      connection-timeout: 50000
      maximum-pool-size: 200
      max-lifetime: 1800000
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:houyi}?characterEncoding=UTF-8
    username: ${MYSQL_USERNAME:root}
    password: ${MYSQL_PASSWORD:}
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}
    database: ${REDIS_DATABASE:0}
    lettuce:
      pool:
        max-active: 200
        max-idle: 20
        min-idle: 5
      shutdown-timeout: 100ms

log:
  path: ${LOG_PATH:/var/log/houyi/}

# RocketMQ 5.0 配置（生产环境）
rocketmq:
  nameSrvAddr: ${ROCKETMQ_NAME_SRV_ADDR:}
  topic: ${ROCKETMQ_TOPIC:wechat-archive-msg}
  retry-topic: ${ROCKETMQ_RETRY_TOPIC:wechat-archive-retry}
  groupId: ${ROCKETMQ_GROUP_ID:}
  retry-group-id: ${ROCKETMQ_RETRY_GROUP_ID:}
  tag: ${ROCKETMQ_TAG:wechat_msg}
  namespace: ${ROCKETMQ_NAMESPACE:}
  public-endpoint: ${ROCKETMQ_PUBLIC_ENDPOINT:}
  retry-delay-ms: ${ROCKETMQ_RETRY_DELAY_MS:30000}
  dummy-consumer:
    enabled: ${ROCKETMQ_DUMMY_CONSUMER_ENABLED:true}  # 启用 Dummy Consumer 建立订阅关系

aliyun:
  bucket: ${ALIYUN_OSS_BUCKET:}
  oss_end_point: ${ALIYUN_OSS_ENDPOINT_INTERNAL:oss-cn-shanghai-internal.aliyuncs.com}
  oss_access_key: ${ALIYUN_OSS_ACCESS_KEY:}
  oss_access_secret: ${ALIYUN_OSS_ACCESS_SECRET:}
  key: ${ALIYUN_ACCESS_KEY:}
  secret: ${ALIYUN_ACCESS_SECRET:}
